<!DOCTYPE html>
<html>
<head>
    <style>
        .center-button {
  margin: 0;
  position: absolute;
  top: 50%;
  left: 50%;
  -ms-transform: translateY(-50%);
  transform: translateY(-50%);
}
    </style>
    <script
    src="https://code.jquery.com/jquery-3.6.4.min.js"
    integrity="sha256-oP6HI9z1XaZNBrJURtCoUT5SUnxFr8s3BzRl+cbzUq8="
    crossorigin="anonymous"></script>
<title>New York Weather Data</title>
</head>
<body>

<form>
    <input type="week" name="week" id="week">
    <div class="center-button">
        <input type="button" onclick="getWeatherData()">Get Weather Data</button>
    </div>
</form>
<table>
</table>
</body>
<script>

        function getWeatherData() {
            let weekData= document.getElementById("week").value;
            var week = weekData.slice(-2);
            
            var dates = getDateRangeOfWeek(week, 2023);
            console.log(dates);

            var url = 'https://api.open-meteo.com/v1/forecast?latitude=40.71&longitude=-74.01&timezone=America/New_York&daily=temperature_2m_max,temperature_2m_min&start_date=2023-03-12&end_date=2023-03-17';

            $.ajax({

                // Our sample url to make request 
                url: url,
  
                // Type of Request
                type: "GET",
  
                // Function to call when to
                // request is ok 
                success: function (data) {
                    var x = JSON.stringify(data);
                    console.log(x);
                },
  
                // Error handling 
                error: function (error) {
                    console.log(`Error ${error}`);
                }
            });
        }
        function getDateRangeOfWeek(weekNo, y){
            console.log(weekNo, y);
            var d1, numOfdaysPastSinceLastMonday, rangeIsFrom, rangeIsTo;
            d1 = new Date(''+y+'');
            numOfdaysPastSinceLastMonday = d1.getDay() - 1;
            d1.setDate(d1.getDate() - numOfdaysPastSinceLastMonday);
            d1.setDate(d1.getDate() + (7 * (weekNo - d1.getWeek())));
            rangeIsFrom = (d1.getMonth() + 1) + "-" + d1.getDate() + "-" + d1.getFullYear();
            d1.setDate(d1.getDate() + 6);
            rangeIsTo = (d1.getMonth() + 1) + "-" + d1.getDate() + "-" + d1.getFullYear() ;
            return rangeIsFrom + " to " + rangeIsTo;
        };
    </script>
</html>